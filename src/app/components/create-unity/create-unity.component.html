<div class="wrapper">
  <form (ngSubmit)="onSubmit(userForm)" #userForm="ngForm" class="user-form">
    <mat-form-field appearance="outline" class="form-group">
      <mat-label>Nome da Unidade</mat-label>
      <input
        matInput
        type="text"
        id="unitName"
        name="unitName"
        ngModel
        required
      />
      <mat-error
        *ngIf="
          userForm.controls['unitName']?.invalid &&
          userForm.controls['unitName']?.touched
        "
      >
        Campo obrigatório
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="form-group">
      <mat-label>Endereço Completo</mat-label>
      <input
        matInput
        type="text"
        id="address"
        name="address"
        ngModel
        required
      />
      <mat-error
        *ngIf="
          userForm.controls['address']?.invalid &&
          userForm.controls['address']?.touched
        "
      >
        Campo obrigatório
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="form-group">
      <mat-label>Cep</mat-label>
      <input
        matInput
        type="text"
        id="cep"
        name="cep"
        ngModel
        required
        minlength="08"
        maxlength="10"
        mask="00.000-000"
      />
      <mat-error
        *ngIf="
          userForm.controls['cep']?.invalid && userForm.controls['cep']?.touched
        "
      >
        Cep inválido
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="form-group">
      <mat-label>E-mail</mat-label>
      <input
        matInput
        type="email"
        id="email"
        name="email"
        ngModel
        required
        placeholder="email@email.com"
        pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}(?:\.[a-zA-Z]{2,})?$"
      />
      <mat-error
        *ngIf="
          userForm.controls['email']?.invalid &&
          userForm.controls['email']?.touched
        "
      >
        Campo inválido
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="form-group">
      <mat-label>Telefone de Contato</mat-label>
      <input
        matInput
        type="text"
        id="phone"
        name="phone"
        ngModel
        required
        mask="(00)0000-0000"
      />
      <mat-error
        *ngIf="
          userForm.controls['phone']?.invalid &&
          userForm.controls['phone']?.touched
        "
      >
        Telefone inválido
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="form-group">
      <mat-label>Responsável</mat-label>
      <input
        matInput
        type="text"
        id="responsible"
        name="responsible"
        ngModel
        required
      />
      <mat-error
        *ngIf="
          userForm.controls['responsible']?.invalid &&
          userForm.controls['responsible']?.touched
        "
      >
        Campo obrigatório
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="form-group">
      <mat-label>Serviço</mat-label>
      <mat-select id="service" name="service" ngModel required>
        <mat-option *ngFor="let service of servicesOptions" [value]="service">
          {{ service.name }}
        </mat-option>
      </mat-select>
      <mat-error
        *ngIf="
          userForm.controls['service']?.invalid &&
          userForm.controls['service']?.touched
        "
      >
        Campo obrigatório
      </mat-error>
    </mat-form-field>

    <button
      mat-raised-button
      color="primary"
      type="submit"
      [disabled]="userForm.invalid"
    >
      Criar Unidade
    </button>
  </form>
</div>
